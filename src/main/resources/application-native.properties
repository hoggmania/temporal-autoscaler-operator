# Native Build Configuration for Temporal Autoscaler Operator

quarkus.native.additional-build-args=\
  --initialize-at-run-time=io.netty.handler.ssl.ReferenceCountedOpenSslEngine,\
  --initialize-at-run-time=io.netty.handler.ssl.ReferenceCountedOpenSslContext,\
  --initialize-at-run-time=io.netty.handler.ssl.ReferenceCountedOpenSslClientContext,\
  --initialize-at-run-time=io.netty.handler.ssl.util.ThreadLocalInsecureRandom,\
  --initialize-at-run-time=io.netty.handler.ssl.ConscryptAlpnSslEngine,\
  --initialize-at-run-time=io.netty.handler.ssl.JettyNpnSslEngine,\
  --initialize-at-run-time=io.netty.handler.ssl.JdkNpnApplicationProtocolNegotiator,\
  --initialize-at-run-time=io.netty.handler.ssl.JettyAlpnSslEngine$ClientEngine,\
  --initialize-at-run-time=io.netty.handler.ssl.JettyAlpnSslEngine$ServerEngine,\
  --initialize-at-run-time=io.netty.internal.tcnative.SSL,\
  --initialize-at-run-time=io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2CodecUtil,\
  --initialize-at-run-time=io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameWriter,\
  --initialize-at-run-time=io.grpc.netty.shaded.io.netty.handler.codec.http.HttpObjectEncoder,\
  --initialize-at-run-time=io.grpc.netty.shaded.io.netty.handler.codec.http.websocketx.WebSocket00FrameEncoder,\
  -H:+ReportExceptionStackTraces,\
  -H:+AddAllCharsets,\
  --enable-url-protocols=http,https,\
  --trace-class-initialization=io.netty.handler.ssl.ReferenceCountedOpenSslEngine

# Enable all reflection for Kubernetes models
quarkus.native.enable-all-security-services=true
quarkus.native.enable-http-url-handler=true
quarkus.native.enable-https-url-handler=true

# SSL configuration
quarkus.ssl.native=true

# Resource configuration
quarkus.native.resources.includes=META-INF/services/*,**/*.yaml,**/*.yml,**/*.json,**/*.properties

# Additional options for debugging native build issues
%native.quarkus.log.level=INFO
